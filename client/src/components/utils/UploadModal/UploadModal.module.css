/*
* =============================================
* Archivo: UploadModal.module.css
* Descripción: Estilos para el componente de modal de subida de archivos.
* Define la apariencia del overlay, el modal en sí, sus diferentes estados
* (selección, subida, error, éxito), botones, barra de progreso y selectores.
* Autor: Dilan Baltras | Fecha: 2025-06-25
* =============================================
*/

/* 1. Estilos del Overlay del Modal */
/* Fondo semi-transparente que cubre toda la pantalla. */
.modalOverlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.6); /* Color de fondo con transparencia */
    display: flex;
    align-items: center; /* Centrado vertical */
    justify-content: center; /* Centrado horizontal */
    z-index: 1000; /* Asegura que esté por encima de otros elementos */
}

/* 2. Contenedor Principal del Modal */
/* Estilos generales del contenedor del modal. */
.modal {
    background-color: var(--sidebar-color); /* Color de fondo del sidebar */
    border-radius: 15px; /* Bordes redondeados */
    box-shadow: var(--box-shadow); /* Sombra de caja */
    color: var(--text-color); /* Color del texto principal */
    width: calc(100% - 3em);
    max-width: 45em; /* Ancho máximo */
    overflow: hidden;
    position: relative;
    transition: var(--tran-03); /* Transición suave para cambios */
    padding: 2.5em; /* Espaciado interno */
    display: flex;
    flex-direction: column;
}

/* 3. Encabezado del Modal */
/* Contiene el botón de cierre. */
.modalHeader {
    display: flex;
    justify-content: flex-end; /* Alinea el botón de cierre a la derecha */
    margin-bottom: 1.5em;
}

.modalCloseButton {
    background-color: transparent;
    border: 0;
    color: var(--text-color); /* Color del icono de cierre */
    cursor: pointer;
    height: 2.5em;
    outline: transparent;
    padding: 0;
    width: 2.5em;
    transition: var(--tran-03);
}

/* Efecto hover/foco en el botón de cierre */
.modalCloseButton:hover,
.modalCloseButton:focus-visible {
    color: var(--primary-color-light); /* Cambia el color al interactuar */
}

.modalCloseIcon {
    display: block;
    width: 100%;
    height: 100%;
}

/* Texto para lectores de pantalla */
.modalSr {
    clip: rect(1px, 1px, 1px, 1px);
    overflow: hidden;
    position: absolute;
    width: 1px;
    height: 1px;
}

/* 4. Cuerpo del Modal */
/* Contenido principal del modal. */
.modalBody {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}

/* Columna de contenido dentro del modal (para cada estado). */
.modalCol {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    flex-grow: 1;
    justify-content: center;
    width: 100%;
    animation: fadeSlideIn 0.3s both ease-out; /* Animación de entrada */
}

/* 5. Iconos de Estado del Modal */
/* Iconos utilizados para indicar el estado (azul, rojo, verde). */
.modalIcon {
    display: block;
    margin-bottom: 1em;
    width: 5em;
    height: 5em;
}

.modalIcon g {
    fill: none;
    stroke: currentColor;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
}

/* Colores específicos para los iconos de estado */
.modalIconBlue g {
    stroke: hsl(223,90%,60%);
}
.modalIconRed g {
    stroke: hsl(3,90%,60%);
}
.modalIconGreen g {
    stroke: hsl(138,90%,60%);
}

/* 6. Títulos y Mensajes del Modal */
.modalTitle {
    font-size: 2.2em;
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 0.5em;
    color: var(--text-color);
}

.modalMessage {
    font-size: 1.1em;
    line-height: 1.5;
    margin-bottom: 2em;
    color: var(--text-color);
}

/* Estilo para el nombre del archivo seleccionado. */
.selectedFileName {
    font-size: 1em;
    margin-top: 1.5em;
    margin-bottom: 1.5em;
    color: var(--text-color);
    text-align: center;
    width: 100%;
    padding: 0 10px;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis; /* Puntos suspensivos si el texto es muy largo */
}

/* 7. Acciones y Botones del Modal */
.modalActions {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1.2em; /* Espacio entre botones */
    margin-top: 1.5em;
}

.modalActions--center {
    justify-content: center;
}

/* Estilos base para todos los botones del modal. */
.modalButton {
    background-color: var(--primary-color);
    color: var(--body-color); /* Color del texto del botón */
    padding: var(--button-padding, 0.75em 1.5em);
    border: none;
    border-radius: var(--button-border-radius, 5px);
    cursor: pointer;
    font-size: var(--button-font-size, 1em);
    font-weight: var(--button-font-weight, 600);
    transition: var(--button-transition, all 0.3s ease);
    min-width: 9em;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    box-shadow: var(--button-shadow, 0 2px 5px rgba(0, 0, 0, 0.1));
}

/* Efecto hover para botones no deshabilitados. */
.modalButton:hover:not(:disabled) {
    background-color: var(--primary-color-light, #0056b3);
    transform: translateY(-2px); /* Pequeño efecto de levantamiento */
    box-shadow: var(--button-hover-shadow, 0 4px 8px rgba(0, 0, 0, 0.2));
}

/* Estilos para botones deshabilitados. */
.modalButton:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* Estilo específico para el botón principal (e.g., "Subir Archivo"). */
.modalButtonPrimary {
    background-color: var(--primary-color);
    color: var(--body-color);
    padding: var(--button-padding, 0.75em 1.5em);
    border: none;
    border-radius: var(--button-border-radius, 5px);
    cursor: pointer;
    font-size: var(--button-font-size, 1em);
    font-weight: var(--button-font-weight, 600);
    transition: var(--button-transition, all 0.3s ease);
    min-width: 9em;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    margin-top: 1.5em;
    box-shadow: var(--button-shadow, 0 2px 5px rgba(0, 0, 0, 0.1));
}

/* Efecto hover para el botón principal. */
.modalButtonPrimary:hover {
    background-color: var(--primary-color-light, #0056b3);
    transform: translateY(-2px);
    box-shadow: var(--button-hover-shadow, 0 4px 8px rgba(0, 0, 0, 0.2));
}

/* 8. Barra de Progreso del Modal */
.modalProgress {
    width: 100%;
    margin-bottom: 1em;
}

.modalProgressValue {
    text-align: center;
    font-size: 1.2em;
    font-weight: 600;
    margin-bottom: 0.6em;
    color: var(--text-color);
}

.modalProgressBar {
    background-color: var(--toggle-color); /* Color de fondo de la barra */
    border-radius: var(--border-radius-sm);
    height: 0.8em;
    overflow: hidden;
}

.modalProgressFill {
    background-color: var(--primary-color-light); /* Color de relleno del progreso */
    height: 100%;
    width: 0; /* Empieza en 0 y crece con JS */
    transition: width 0.1s linear; /* Transición para el llenado */
}

/* 9. Animaciones del Modal */
/* Animación de entrada para el contenido del modal. */
@keyframes fadeSlideIn {
    from { opacity: 0; transform: translateY(33%); }
    to { opacity: 1; transform: translateY(0); }
}

/* Animación para el trazo de los iconos (SVG). */
@keyframes sdo {
    to { stroke-dashoffset: 0; }
}

.modalIcon circle {
    stroke-dashoffset: 100;
    stroke-dasharray: 100;
    animation: sdo 1s cubic-bezier(0.68, -0.55, 0.27, 1.55) both;
}

/* Retrasos para las animaciones de los círculos de iconos. */
.modalIconBlue circle {
    animation-delay: 0.1s;
}

.modalIconRed circle {
    animation-delay: 0.1s;
}

.modalIconGreen circle {
    animation-delay: 0.1s;
}

/* 10. Media Queries (Responsive) */
/* Ajustes para pantallas más pequeñas (máx. 480px). */
@media (max-width: 480px) {
    .modal {
        padding: 1.5em;
        max-width: 95%;
    }
    .modalTitle {
        font-size: 1.8em;
    }
    .modalMessage {
        font-size: 1em;
    }
    .modalButton, .modalButtonPrimary {
        min-width: unset; /* Elimina ancho mínimo */
        width: 100%; /* Ocupa todo el ancho disponible */
        padding: 0.7em 1.2em;
        font-size: 1em;
    }
    .modalIcon {
        width: 4em;
        height: 4em;
    }
    .modalHeader {
        margin-bottom: 1em;
    }
    .modalActions {
        gap: 0.8em;
        margin-top: 1em;
    }
    /* Corrección para el nombre de la clase de `ministrySelect` en media query */
    .selectedFileName, .ministrySelect { /* Asegurado que 'ministrySelect' esté bien escrito aquí */
        margin-top: 1em;
        margin-bottom: 1em;
    }
    .modalButtonPrimary {
        margin-top: 1.2em;
    }
}

/* 11. Estilos del Selector de Ministerio */
/* Estilos para el elemento <select> de ministerio. */
.ministrySelect {
    margin-top: 1.5em;
    padding: 12px 15px;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-sm);
    font-size: 1em;
    color: var(--text-color-dark);
    background-color: var(--background-card);
    cursor: pointer;
    /* Elimina estilos nativos del navegador para mejor control */
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    /* Icono de flecha personalizado */
    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13.6-6.4H18.8c-5%200-9.3%201.8-13.6%206.4-4.4%204.6-6.4%2010.2-6.4%2016.3%200%206.1%202%2011.7%206.4%2016.3l118.6%20118.6c4.5%204.5%2010.2%206.4%2016.3%206.4s11.8-2%2016.3-6.4L287%20102c4.4-4.6%206.4-10.2%206.4-16.3s-2-11.7-6.4-16.3z%22%2F%3E%3C%2Fsvg%3E');
    background-repeat: no-repeat;
    background-position: right 15px center;
    background-size: 12px;
    padding-right: 40px; /* Deja espacio para el icono */
}

/* Efecto foco en el selector. */
.ministrySelect:focus {
    border-color: var(--select-focus-border);
    box-shadow: 0 0 0 3px var(--select-focus-shadow);
}

/* Estilos para las opciones del selector. */
.ministrySelect option {
    background-color: var(--select-bg-color);
    color: var(--text-color);
}